# –®–∫—ñ–ª—å–Ω—ñ –¢–∞–ª–æ–Ω–∏ - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —ó–¥–∞–ª—å–Ω—ñ–Ω–∏–º–∏ —Ç–∞–ª–æ–Ω–∞–º–∏

## üìã –û–ø–∏—Å

**–®–∫—ñ–ª—å–Ω—ñ –¢–∞–ª–æ–Ω–∏** - —Ü–µ —Å—É—á–∞—Å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–æ–∑–ø–æ–≤—Å—é–¥–∂—É–≤–∞–Ω–Ω—è–º —Ç–∞ –æ–±–ª—ñ–∫–æ–º —ó–¥–∞–ª—å–Ω—ñ–Ω–∏—Ö —Ç–∞–ª–æ–Ω—ñ–≤ —É —à–∫–æ–ª–∞—Ö. –°–∏—Å—Ç–µ–º–∞ –¥–æ–∑–≤–æ–ª—è—î:

- ‚úÖ **–í—á–∏—Ç–µ–ª—è–º** –ø–æ–∑–Ω–∞—á–∞—Ç–∏ –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å —É—á–Ω—ñ–≤ —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–≤–∞—Ç–∏ —Ç–∞–ª–æ–Ω–∏
- ‚úÖ **–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º** –∫–µ—Ä—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏, –∫–ª–∞—Å–∞–º–∏ —Ç–∞ —Å–ª—ñ–¥–∫—É–≤–∞—Ç–∏ –∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é
- ‚úÖ **–ö–∞—Å–∏—Ä–∞–º** —Ñ—ñ–∫—Å—É–≤–∞—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–∞–ª–æ–Ω—ñ–≤ –Ω–∞ –∫–∞—Å—ñ
- ‚úÖ **–£—á–Ω—è–º** –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Å–≤–æ—ó —Ç–∞–ª–æ–Ω–∏ —á–µ—Ä–µ–∑ QR-–∫–æ–¥

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –í–∏–º–æ–≥–∏
- Node.js v18+
- Windows PowerShell 5.1+

### –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º–∏

```bash
cd c:\Mafis
.\START.ps1
```

**–î–æ—Å—Ç—É–ø –≤ –±—Ä–∞—É–∑–µ—Ä—ñ:** http://localhost:3000

### –¢–µ—Å—Ç–æ–≤—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –∑–∞–ø–∏—Å–∏

| –†–æ–ª—å | Username | –ü–∞—Ä–æ–ª—å |
|------|----------|--------|
| –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä | admin | admin123 |
| –í—á–∏—Ç–µ–ª—å | teacher | teacher123 |
| –ö–∞—Å–∏—Ä | cashier | cashier123 |
| –£—á–µ–Ω—å | student1 | student123 |

*(–î–æ–¥–∞—Ç–∫–æ–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ñ student2, student3, student4)*

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
c:\Mafis/
‚îú‚îÄ‚îÄ backend/          # Node.js Express —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ server.js     # –û—Å–Ω–æ–≤–Ω–∞ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ db-wrapper.js # –ê–±—Å—Ç—Ä–∞–∫—Ü—ñ—è –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ package.json  # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ frontend/         # React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ build/        # –ì–æ—Ç–æ–≤–∏–π –¥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ package.json  # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îÇ   ‚îî‚îÄ‚îÄ src/          # –í–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥
‚îú‚îÄ‚îÄ START.ps1         # –õ–∞—É–Ω—á–µ—Ä (Windows)
‚îú‚îÄ‚îÄ START.sh          # –õ–∞—É–Ω—á–µ—Ä (Linux/Mac)
‚îî‚îÄ‚îÄ config.js         # –ì–ª–æ–±–∞–ª—å–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
```

## üîë –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

### –î–ª—è –í—á–∏—Ç–µ–ª—è
1. –õ–æ–≥—ñ–Ω –∑ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω–∏–º–∏
2. –í–∏–±—ñ—Ä –∫–ª–∞—Å—É
3. –ü–æ–∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏—Å—É—Ç–Ω–æ—Å—Ç—ñ —É—á–Ω—ñ–≤
4. –ü–µ—Ä–µ–≥–ª—è–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–ª–∞—Å—É

### –î–ª—è –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
1. **üë• –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏** - –¥–æ–¥–∞–≤–∞–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è
2. **üìö –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–ª–∞—Å–∞–º–∏** - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑–ø–æ–¥—ñ–ª —É—á–Ω—ñ–≤
3. **üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –∑–≤—ñ—Ç–∏ –ø—Ä–æ —Ç–∞–ª–æ–Ω–∏ —Ç–∞ –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å
4. **‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** - –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏

### –î–ª—è –ö–∞—Å–∏—Ä–∞
1. –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è QR-–∫–æ–¥—ñ–≤ –Ω–∞ —Ç–∞–ª–æ–Ω–∞—Ö
2. –§—ñ–∫—Å—É–≤–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–æ–≥–æ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è
3. –í–∏–¥–∞—á–∞ —ó–∂—ñ –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –±–∞–ª–∞–Ω—Å—É —Ç–∞–ª–æ–Ω—ñ–≤

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

- **Development:** SQLite (—Ñ–∞–π–ª `backend/vouchers.db`)
- **Production:** PostgreSQL (–∫–æ–Ω—Ñ—ñ–≥—É—Ä—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `.env`)

### –û—Å–Ω–æ–≤–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ
- `users` - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Å–∏—Å—Ç–µ–º–∏
- `classes` - —à–∫–æ–ª—è—Ä—Å—å–∫—ñ –∫–ª–∞—Å–∏
- `attendance` - –æ–±–ª—ñ–∫ –ø—Ä–∏—Å—É—Ç–Ω–æ—Å—Ç—ñ (–¥–∞—Ç–∞-–∫–æ–∂–µ–Ω –¥–µ–Ω—å)
- `vouchers` - —Ç–∞–ª–æ–Ω–∏ —Ç–∞ —ó—Ö–Ω—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- `audit_logs` - –ª–æ–≥–∏ –¥—ñ–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## üîê –ë–µ–∑–ø–µ–∫–∞

- JWT —Ç–æ–∫–µ–Ω–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (15 —Ö–≤ –¥–æ—Å—Ç—É–ø—É + 7 –¥–Ω—ñ–≤ refresh)
- –•–µ—à–∏—Ä—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤ (bcrypt)
- Rate limiting –Ω–∞ –∫—ñ–Ω—Ü–µ–≤–∏—Ö —Ç–æ—á–∫–∞—Ö
- CORS –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –¥–ª—è localhost

## üìä API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

**POST** `/api/auth/login`
```json
{
  "username": "admin",
  "password": "admin123"
}
```

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—é

**POST** `/api/users/attendance/set`
```json
{
  "userIds": ["user-id-1", "user-id-2"]
}
```

**POST** `/api/users/attendance/unset`
```json
{
  "userIds": ["user-id-1"]
}
```

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–∞–ª–æ–Ω–∞–º–∏

**POST** `/api/vouchers/create`
```json
{
  "user_id": "user-id",
  "quantity": 1
}
```

**GET** `/api/vouchers/my` - –û—Ç—Ä–∏–º–∞—Ç–∏ –º–æ—ó —Ç–∞–ª–æ–Ω–∏

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –§–∞–π–ª `.env`

```env
NODE_ENV=development
PORT=3000
JWT_SECRET=your-secret-key

# –î–ª—è PostgreSQL (production)
DATABASE_URL=postgresql://user:pass@localhost:5432/vouchers_db

# Redis (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
REDIS_URL=redis://127.0.0.1:6379
```

## üîß –û–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
```powershell
.\START.ps1
```

### –ó—É–ø–∏–Ω–∫–∞
–ó–∞–∫—Ä–∏–π—Ç–µ –≤—ñ–∫–Ω–∞ PowerShell –∞–±–æ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å Ctrl+C

### –û—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É –±—Ä–∞—É–∑–µ—Ä–∞
- Chrome/Edge: `Ctrl+Shift+Delete`
- Firefox: `Ctrl+Shift+Delete`
- Safari: `Cmd+Shift+Delete`

## üìã –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–¥ –∑–¥–∞—á–µ—é

- [x] –°–∏–Ω—Ç–∞–∫—Å–∏—Å JavaScript –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ (–±–µ–∑ –ø–æ–º–∏–ª–æ–∫)
- [x] –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ (`npm ls`)
- [x] –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≥–æ—Ç–æ–≤–∞ (`.env`)
- [x] –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ (SQLite)
- [x] –î–µ–º–æ –¥–∞–Ω—ñ —Å—Ç–≤–æ—Ä–µ–Ω—ñ (4 —É—á–Ω—ñ + –≤—á–∏—Ç–µ–ª—å + –∫–ª–∞—Å 9-–ê)
- [x] –õ–æ–≥–∏ –æ—á–∏—â–µ–Ω—ñ
- [x] –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–±—É–¥–æ–≤–∞–Ω–æ (–≥–æ—Ç–æ–≤–æ –¥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è)
- [x] –¢–µ—Å—Ç–æ–≤—ñ —Ñ–∞–π–ª–∏ –≤–∏–¥–∞–ª–µ–Ω—ñ
- [x] QR —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –ø—Ä–∞—Ü—é—î
- [x] –¢–∞–±–ª–∏—Ü—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –æ—á–∏—â–µ–Ω–∞ (–±–µ–∑ –∫–æ–ª–æ–Ω–æ–∫ "–ü—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å" —Ç–∞ "–ó–º—ñ–Ω–∞ –∫–ª–∞—Å—É")

## üåê –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Production

1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å PostgreSQL
2. –û–Ω–æ–≤—ñ—Ç—å `DATABASE_URL` —É `.env`
3. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –≤ `production`
4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `npm start` –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ

## üìû –¢–µ—Ö–Ω—ñ—á–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

**–ö–æ–Ω—Ç–∞–∫—Ç–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞:**
- –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–æ
- –£—Å—ñ –æ—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω—ñ
- –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±—ñ–ª—å–Ω–∞ –Ω–∞ SQLite —Ç–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ PostgreSQL

---

**–í–µ—Ä—Å—ñ—è:** 1.0.0  
**–î–∞—Ç–∞:** 15.02.2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–∞ –¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
